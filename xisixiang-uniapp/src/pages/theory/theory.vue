<template>
  <view class="theory-page">
    <!-- è‡ªå®šä¹‰ TabBar -->
    <custom-tab-bar />

    <!-- é¡¶éƒ¨æ ‡é¢˜ -->
    <view class="page-header">
      <text class="header-title">ğŸ“š ç†è®ºå­¦ä¹ ä¸­å¿ƒ</text>
      <text class="header-subtitle">æ·±å…¥å­¦ä¹ å…¨å›½ç»Ÿä¸€å¤§å¸‚åœºç†è®º</text>
    </view>

    <!-- æ–‡æ¡£åˆ—è¡¨ -->
    <view class="document-list">
      <view
        v-for="(doc, index) in documents"
        :key="index"
        class="document-card"
        @click="openDocument(doc)"
      >
        <view class="card-icon">ğŸ“„</view>
        <view class="card-content">
          <text class="card-title">{{ doc.title }}</text>
          <text class="card-description">{{ doc.description }}</text>
        </view>
        <view class="card-arrow">â†’</view>
      </view>
    </view>

    <!-- çŸ¥è¯†å›¾è°±å…¥å£ -->
    <view class="knowledge-graph-entry" @click="goToKnowledgeGraph">
      <view class="entry-icon">ğŸ—ºï¸</view>
      <view class="entry-content">
        <text class="entry-title">çŸ¥è¯†å›¾è°±</text>
        <text class="entry-subtitle">å¯è§†åŒ–ç†è®ºå…³ç³»</text>
      </view>
      <view class="entry-arrow">â†’</view>
    </view>
  </view>
</template>

<script setup>
const documents = [
  {
    title: "ä¸­å…±ä¸­å¤®å›½åŠ¡é™¢å…³äºåŠ å¿«å»ºè®¾å…¨å›½ç»Ÿä¸€å¤§å¸‚åœºçš„æ„è§",
    description: "å®˜æ–¹æ”¿ç­–æ–‡ä»¶ï¼Œå…¨é¢é˜è¿°ç»Ÿä¸€å¤§å¸‚åœºå»ºè®¾çš„æ€»ä½“è¦æ±‚",
    fileName: "ä¸­å…±ä¸­å¤®å›½åŠ¡é™¢å…³äºåŠ å¿«å»ºè®¾å…¨å›½ç»Ÿä¸€å¤§å¸‚åœºçš„æ„è§.md",
  },
  {
    title: "çºµæ·±æ¨è¿›å…¨å›½ç»Ÿä¸€å¤§å¸‚åœºå»ºè®¾",
    description: "æ·±å…¥åˆ†æå¸‚åœºå»ºè®¾çš„è·¯å¾„å’Œæ–¹æ³•",
    fileName: "çºµæ·±æ¨è¿›å…¨å›½ç»Ÿä¸€å¤§å¸‚åœºå»ºè®¾.md",
  },
  {
    title: "æ€ä¹ˆç†è§£çºµæ·±æ¨è¿›å…¨å›½ç»Ÿä¸€å¤§å¸‚åœºå»ºè®¾",
    description: "è§£è¯»çºµæ·±æ¨è¿›çš„å†…æ¶µå’Œè¦æ±‚",
    fileName: "æ€ä¹ˆç†è§£çºµæ·±æ¨è¿›å…¨å›½ç»Ÿä¸€å¤§å¸‚åœºå»ºè®¾.md",
  },
  {
    title: "æ„å»ºå…¨å›½ç»Ÿä¸€å¤§å¸‚åœº",
    description: "å…¨é¢è®ºè¿°ç»Ÿä¸€å¤§å¸‚åœºçš„æ„å»ºè¿‡ç¨‹",
    fileName: "æ„å»ºå…¨å›½ç»Ÿä¸€å¤§å¸‚åœº.md",
  },
  {
    title: "æ·±åŒ–æ„å»ºå…¨å›½ç»Ÿä¸€å¤§å¸‚åœºçš„é€»è¾‘è®¤è¯†ä¸æ€è€ƒ",
    description: "ä»ç†è®ºè§’åº¦æ·±åº¦å‰–æé€»è¾‘ä½“ç³»",
    fileName: "æ·±åŒ–æ„å»ºå…¨å›½ç»Ÿä¸€å¤§å¸‚åœºçš„é€»è¾‘è®¤è¯†ä¸æ€è€ƒ.md",
  },
  {
    title: "å…¨å›½ç»Ÿä¸€å¤§å¸‚åœºçš„é‚£äº›äº‹",
    description: "é€šä¿—æ˜“æ‡‚è§£è¯»ç»Ÿä¸€å¤§å¸‚åœºç›¸å…³å†…å®¹",
    fileName: "å…¨å›½ç»Ÿä¸€å¤§å¸‚åœºçš„é‚£äº›äº‹.md",
  },
];

const openDocument = (doc) => {
  // è·³è½¬åˆ°æ–‡æ¡£è¯¦æƒ…é¡µï¼ˆéœ€è¦åˆ›å»ºï¼‰
  uni.navigateTo({
    url: `/pages/theory/document?title=${encodeURIComponent(
      doc.title
    )}&file=${encodeURIComponent(doc.fileName)}`,
  });
};

const goToKnowledgeGraph = () => {
  uni.navigateTo({
    url: "/pages/knowledge-graph/knowledge-graph",
  });
};
</script>

<style scoped>
.theory-page {
  min-height: 100vh;
  background: linear-gradient(135deg, #fff5f5, #f5f5f5);
  padding: 20rpx;
  padding-bottom: 140rpx; /* ä¸ºè‡ªå®šä¹‰ TabBar é¢„ç•™æ›´å¤šç©ºé—´ */
}

.page-header {
  text-align: center;
  padding: 40rpx 20rpx;
  margin-bottom: 30rpx;
}

.header-title {
  display: block;
  font-size: 40rpx;
  font-weight: bold;
  color: #ff4d4d;
  margin-bottom: 15rpx;
}

.header-subtitle {
  display: block;
  font-size: 26rpx;
  color: #999;
}

.document-list {
  margin-bottom: 30rpx;
}

.document-card {
  display: flex;
  align-items: center;
  background-color: white;
  border-radius: 20rpx;
  padding: 30rpx;
  margin-bottom: 20rpx;
  box-shadow: 0 4rpx 20rpx rgba(255, 77, 77, 0.08);
  transition: all 0.3s;
}

.document-card:active {
  transform: scale(0.98);
  box-shadow: 0 2rpx 10rpx rgba(255, 77, 77, 0.15);
}

.card-icon {
  font-size: 50rpx;
  margin-right: 25rpx;
}

.card-content {
  flex: 1;
  display: flex;
  flex-direction: column;
}

.card-title {
  font-size: 30rpx;
  font-weight: bold;
  color: #333;
  margin-bottom: 10rpx;
  line-height: 1.4;
}

.card-description {
  font-size: 24rpx;
  color: #999;
  line-height: 1.5;
}

.card-arrow {
  font-size: 35rpx;
  color: #ff4d4d;
  margin-left: 20rpx;
}

.knowledge-graph-entry {
  display: flex;
  align-items: center;
  background: linear-gradient(135deg, #ff4d4d, #cc0000);
  border-radius: 20rpx;
  padding: 35rpx;
  box-shadow: 0 8rpx 25rpx rgba(255, 77, 77, 0.3);
}

.knowledge-graph-entry:active {
  transform: scale(0.98);
}

.entry-icon {
  font-size: 60rpx;
  margin-right: 25rpx;
}

.entry-content {
  flex: 1;
  display: flex;
  flex-direction: column;
}

.entry-title {
  font-size: 34rpx;
  font-weight: bold;
  color: white;
  margin-bottom: 8rpx;
}

.entry-subtitle {
  font-size: 24rpx;
  color: rgba(255, 255, 255, 0.9);
}

.entry-arrow {
  font-size: 40rpx;
  color: white;
  margin-left: 20rpx;
}
</style>
