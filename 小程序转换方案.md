# å°† Vue 3 Web é¡¹ç›®è½¬æ¢ä¸ºå°ç¨‹åºçš„å®Œæ•´æ–¹æ¡ˆ

## ğŸ“‹ æ–¹æ¡ˆæ¦‚è§ˆ

å°†"æ„å»ºå…¨å›½ç»Ÿä¸€å¤§å¸‚åœº"ä¹ æ€æƒ³è¯¾ç¨‹ä½œä¸šé¡¹ç›®è½¬æ¢ä¸ºå°ç¨‹åºï¼Œæ¨èä½¿ç”¨ **uni-app** æ¡†æ¶ã€‚

---

## ğŸ¯ æŠ€æœ¯é€‰å‹

### æ¨èæ–¹æ¡ˆï¼šuni-appï¼ˆâ­â­â­â­â­ï¼‰

**ä¼˜åŠ¿**ï¼š

- âœ… ä½¿ç”¨ Vue 3 è¯­æ³•ï¼Œç°æœ‰ä»£ç å¯å¤ç”¨ 70-80%
- âœ… ä¸€æ¬¡å¼€å‘ï¼Œå¤šç«¯éƒ¨ç½²ï¼ˆå¾®ä¿¡/æ”¯ä»˜å®/ç™¾åº¦/å­—èŠ‚è·³åŠ¨å°ç¨‹åºï¼‰
- âœ… å®Œå–„çš„ç”Ÿæ€å’Œæ–‡æ¡£
- âœ… æ”¯æŒ NPM åŒ…ï¼Œå¯ä½¿ç”¨ marked ç­‰åº“
- âœ… å®˜æ–¹æä¾› UI ç»„ä»¶åº“ï¼ˆuni-uiï¼‰

**æŠ€æœ¯æ ˆ**ï¼š

```
Vue 3 + uni-app + uniCloudï¼ˆå¯é€‰ï¼‰
```

### å…¶ä»–æ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ               | ä¼˜åŠ¿               | åŠ£åŠ¿                     | æ¨èåº¦     |
| ------------------ | ------------------ | ------------------------ | ---------- |
| **uni-app**        | Vue è¯­æ³•ï¼Œè·¨å¹³å°   | éœ€è¦å­¦ä¹ å°ç¨‹åº API       | â­â­â­â­â­ |
| **åŸç”Ÿå¾®ä¿¡å°ç¨‹åº** | æ€§èƒ½æœ€ä¼˜ï¼Œå®˜æ–¹æ”¯æŒ | éœ€è¦å®Œå…¨é‡å†™ï¼Œæ— æ³•è·¨å¹³å° | â­â­â­     |
| **Taro**           | React/Vue éƒ½æ”¯æŒ   | ç”Ÿæ€ç›¸å¯¹å°               | â­â­â­â­   |
| **mpvue**          | Vue 2 è¯­æ³•         | å·²åœæ­¢ç»´æŠ¤               | âŒ         |

---

## ğŸ”§ è½¬æ¢æ­¥éª¤

### ç¬¬ä¸€é˜¶æ®µï¼šç¯å¢ƒæ­å»º

#### 1. å®‰è£… HBuilderXï¼ˆæ¨èï¼‰æˆ–ä½¿ç”¨ CLI

**æ–¹å¼ Aï¼šHBuilderXï¼ˆå›¾å½¢åŒ–ï¼Œæ¨èæ–°æ‰‹ï¼‰**

```
1. ä¸‹è½½ HBuilderX: https://www.dcloud.io/hbuilderx.html
2. å®‰è£…å¾®ä¿¡å¼€å‘è€…å·¥å…·
3. åœ¨ HBuilderX ä¸­åˆ›å»º uni-app é¡¹ç›®
```

**æ–¹å¼ Bï¼šVue CLIï¼ˆå‘½ä»¤è¡Œï¼Œæ¨èæœ‰ç»éªŒè€…ï¼‰**

```powershell
# å®‰è£… Vue CLI
npm install -g @vue/cli

# åˆ›å»º uni-app é¡¹ç›®
vue create -p dcloudio/uni-preset-vue miniprogram-xisixiang

# é€‰æ‹© Vue 3 ç‰ˆæœ¬
```

#### 2. é¡¹ç›®ç»“æ„

uni-app é¡¹ç›®ç»“æ„ï¼š

```
miniprogram-xisixiang/
â”œâ”€â”€ pages/                  # é¡µé¢ç›®å½•
â”‚   â”œâ”€â”€ index/              # é¦–é¡µ
â”‚   â”œâ”€â”€ chat/               # æ™ºèƒ½é—®ç­”
â”‚   â”œâ”€â”€ quiz/               # ä¹ é¢˜è®­ç»ƒ
â”‚   â”œâ”€â”€ theory/             # ç†è®ºå­¦ä¹ 
â”‚   â””â”€â”€ knowledge-graph/    # çŸ¥è¯†å›¾è°±
â”œâ”€â”€ components/             # ç»„ä»¶ç›®å½•
â”œâ”€â”€ static/                 # é™æ€èµ„æº
â”œâ”€â”€ utils/                  # å·¥å…·å‡½æ•°
â”œâ”€â”€ api/                    # API æ¥å£
â”œâ”€â”€ pages.json              # é¡µé¢é…ç½®ï¼ˆè·¯ç”±ï¼‰
â”œâ”€â”€ manifest.json           # åº”ç”¨é…ç½®
â”œâ”€â”€ App.vue                 # åº”ç”¨é…ç½®
â””â”€â”€ main.js                 # å…¥å£æ–‡ä»¶
```

---

### ç¬¬äºŒé˜¶æ®µï¼šæ ¸å¿ƒæ”¹é€ 

#### 1. è·¯ç”±ç³»ç»Ÿæ”¹é€ 

**åŸ Vue Router é…ç½®**ï¼š

```javascript
// ç°æœ‰çš„ router/index.js
const routes = [
  { path: "/chat", component: ChatView },
  { path: "/quiz", component: QuizView },
  // ...
];
```

**uni-app pages.json**ï¼š

```json
{
  "pages": [
    {
      "path": "pages/index/index",
      "style": {
        "navigationBarTitleText": "é¦–é¡µ"
      }
    },
    {
      "path": "pages/chat/chat",
      "style": {
        "navigationBarTitleText": "æ™ºèƒ½é—®ç­”",
        "navigationBarBackgroundColor": "#ff4d4d",
        "navigationBarTextStyle": "white"
      }
    },
    {
      "path": "pages/quiz/quiz",
      "style": {
        "navigationBarTitleText": "ä¹ é¢˜è®­ç»ƒ",
        "navigationBarBackgroundColor": "#ff4d4d",
        "navigationBarTextStyle": "white"
      }
    },
    {
      "path": "pages/theory/theory",
      "style": {
        "navigationBarTitleText": "ç†è®ºå­¦ä¹ ",
        "navigationBarBackgroundColor": "#ff4d4d",
        "navigationBarTextStyle": "white"
      }
    },
    {
      "path": "pages/knowledge-graph/knowledge-graph",
      "style": {
        "navigationBarTitleText": "çŸ¥è¯†å›¾è°±",
        "navigationBarBackgroundColor": "#ff4d4d",
        "navigationBarTextStyle": "white"
      }
    }
  ],
  "globalStyle": {
    "navigationBarTextStyle": "white",
    "navigationBarTitleText": "ä¹ æ€æƒ³è¯¾ç¨‹",
    "navigationBarBackgroundColor": "#ff4d4d",
    "backgroundColor": "#f5f5f5"
  },
  "tabBar": {
    "color": "#666666",
    "selectedColor": "#ff4d4d",
    "backgroundColor": "#ffffff",
    "borderStyle": "black",
    "list": [
      {
        "pagePath": "pages/chat/chat",
        "text": "æ™ºèƒ½é—®ç­”",
        "iconPath": "static/tabbar/chat.png",
        "selectedIconPath": "static/tabbar/chat-active.png"
      },
      {
        "pagePath": "pages/quiz/quiz",
        "text": "ä¹ é¢˜è®­ç»ƒ",
        "iconPath": "static/tabbar/quiz.png",
        "selectedIconPath": "static/tabbar/quiz-active.png"
      },
      {
        "pagePath": "pages/theory/theory",
        "text": "ç†è®ºå­¦ä¹ ",
        "iconPath": "static/tabbar/theory.png",
        "selectedIconPath": "static/tabbar/theory-active.png"
      }
    ]
  }
}
```

**å¯¼èˆªè·³è½¬æ”¹é€ **ï¼š

```javascript
// åŸæ¥çš„ Vue Router
this.$router.push("/chat");

// æ”¹ä¸º uni-app
uni.navigateTo({
  url: "/pages/chat/chat",
});

// æˆ–ä½¿ç”¨ Tab åˆ‡æ¢
uni.switchTab({
  url: "/pages/chat/chat",
});
```

---

#### 2. API è¯·æ±‚æ”¹é€ 

**åŸæœ‰çš„ API å®¢æˆ·ç«¯**ï¼š

```javascript
// src/api/client.js (åŸºäº fetch)
const response = await fetch(url, options);
```

**uni-app ç‰ˆæœ¬**ï¼š

```javascript
// utils/request.js
const baseURL = "http://localhost:5000"; // æˆ–é…ç½®ä¸ºäº‘å‡½æ•°

export function request(options) {
  return new Promise((resolve, reject) => {
    uni.request({
      url: baseURL + options.url,
      method: options.method || "GET",
      data: options.data,
      header: {
        "Content-Type": "application/json",
        ...options.header,
      },
      success: (res) => {
        if (res.statusCode === 200) {
          resolve(res.data);
        } else {
          reject(res);
        }
      },
      fail: (err) => {
        reject(err);
      },
    });
  });
}

// ä½¿ç”¨ç¤ºä¾‹
import { request } from "@/utils/request";

// è·å–é¢˜ç›®
export function getQuestions() {
  return request({
    url: "/api/questions",
    method: "GET",
  });
}

// æ™ºèƒ½é—®ç­”
export function chatCompletion(messages) {
  return request({
    url: "/api/chat",
    method: "POST",
    data: { messages },
  });
}
```

---

#### 3. ç»„ä»¶æ”¹é€ 

**æ™ºèƒ½é—®ç­”ç»„ä»¶æ”¹é€ ç¤ºä¾‹**ï¼š

```vue
<!-- pages/chat/chat.vue -->
<template>
  <view class="chat-container">
    <!-- å¿«æ·é—®é¢˜ -->
    <view v-if="messages.length === 1" class="quick-questions">
      <text class="quick-title">ğŸ’¡ æ‚¨å¯èƒ½æƒ³é—®ï¼š</text>
      <view class="question-chips">
        <button
          v-for="(question, index) in quickQuestions"
          :key="index"
          @click="handleQuickQuestion(question)"
          :disabled="loading"
          class="chip-button"
        >
          {{ question }}
        </button>
      </view>
    </view>

    <!-- èŠå¤©çª—å£ -->
    <scroll-view
      scroll-y
      class="chat-window"
      :scroll-into-view="scrollIntoView"
      :scroll-with-animation="true"
    >
      <view
        v-for="(message, index) in messages"
        :key="index"
        :class="['message', message.sender]"
        :id="'msg-' + index"
      >
        <!-- ç”¨æˆ·æ¶ˆæ¯ -->
        <view v-if="message.sender === 'user'" class="user-text">
          {{ message.text }}
        </view>
        <!-- AI æ¶ˆæ¯ - ä½¿ç”¨ rich-text -->
        <rich-text v-else :nodes="renderMarkdown(message.text)" />
      </view>
    </scroll-view>

    <!-- åŠ è½½çŠ¶æ€ -->
    <view v-if="loading" class="loading-banner">
      <view class="loading-dots">
        <view class="dot"></view>
        <view class="dot"></view>
        <view class="dot"></view>
      </view>
      <text>AI æ­£åœ¨æ€è€ƒä¸­...</text>
    </view>

    <!-- è¾“å…¥æ¡† -->
    <view class="input-container">
      <textarea
        v-model="inputText"
        placeholder="ğŸ’­ è¯·è¾“å…¥æ‚¨æƒ³äº†è§£çš„é—®é¢˜..."
        :disabled="loading"
        class="input-field"
        :auto-height="true"
        :maxlength="500"
      />
      <button
        @click="sendMessage"
        :disabled="loading || !inputText.trim()"
        class="send-button"
      >
        å‘é€
      </button>
    </view>
  </view>
</template>

<script setup>
import { ref, nextTick } from "vue";
import { chatCompletion } from "@/api/chat";
import { markdownToHtml } from "@/utils/markdown";

const messages = ref([
  {
    sender: "bot",
    text: "ğŸ‘‹ **æ‚¨å¥½ï¼æˆ‘æ˜¯å…¨å›½ç»Ÿä¸€å¤§å¸‚åœºæ”¿ç­–æ™ºèƒ½åŠ©æ‰‹ã€‚**\n\næˆ‘å¯ä»¥å¸®æ‚¨è§£ç­”å„ç±»é—®é¢˜...",
  },
]);

const inputText = ref("");
const loading = ref(false);
const scrollIntoView = ref("");

const quickQuestions = ref([
  "ä»€ä¹ˆæ˜¯å…¨å›½ç»Ÿä¸€å¤§å¸‚åœºï¼Ÿ",
  "ä¸ºä»€ä¹ˆè¦æ„å»ºå…¨å›½ç»Ÿä¸€å¤§å¸‚åœºï¼Ÿ",
  "ç»Ÿä¸€å¤§å¸‚åœºå»ºè®¾çš„ä¸»è¦å†…å®¹æ˜¯ä»€ä¹ˆï¼Ÿ",
  "å¦‚ä½•çºµæ·±æ¨è¿›ç»Ÿä¸€å¤§å¸‚åœºå»ºè®¾ï¼Ÿ",
]);

// Markdown æ¸²æŸ“ï¼ˆç®€åŒ–ç‰ˆï¼‰
const renderMarkdown = (text) => {
  return markdownToHtml(text);
};

// å‘é€æ¶ˆæ¯
const sendMessage = async () => {
  if (!inputText.value.trim() || loading.value) return;

  const userMessage = inputText.value.trim();
  messages.value.push({ sender: "user", text: userMessage });
  inputText.value = "";
  loading.value = true;

  // æ»šåŠ¨åˆ°åº•éƒ¨
  nextTick(() => {
    scrollIntoView.value = "msg-" + (messages.value.length - 1);
  });

  try {
    const response = await chatCompletion(buildPayload());
    messages.value.push({
      sender: "bot",
      text: response.reply || "æŠ±æ­‰ï¼Œæˆ‘æš‚æ—¶æ— æ³•å›ç­”è¿™ä¸ªé—®é¢˜ã€‚",
    });
  } catch (error) {
    messages.value.push({
      sender: "bot",
      text: "âš ï¸ æœåŠ¡æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·ç¨åå†è¯•ã€‚",
    });
    uni.showToast({
      title: "ç½‘ç»œé”™è¯¯",
      icon: "none",
    });
  } finally {
    loading.value = false;
    nextTick(() => {
      scrollIntoView.value = "msg-" + (messages.value.length - 1);
    });
  }
};

// æ„å»ºå¯¹è¯å†å²
const buildPayload = () => {
  return messages.value
    .filter((m) => m.sender === "user" || m.sender === "bot")
    .map((m) => ({
      role: m.sender === "bot" ? "assistant" : "user",
      content: m.text,
    }));
};

// å¿«æ·é—®é¢˜
const handleQuickQuestion = (question) => {
  inputText.value = question;
  sendMessage();
};
</script>

<style scoped>
.chat-container {
  display: flex;
  flex-direction: column;
  height: 100vh;
  background-color: #f5f5f5;
}

.chat-window {
  flex: 1;
  padding: 20rpx;
}

.message {
  max-width: 80%;
  padding: 20rpx;
  margin-bottom: 20rpx;
  border-radius: 10rpx;
  word-wrap: break-word;
}

.message.user {
  align-self: flex-end;
  background: linear-gradient(135deg, #ff7061, #f44336);
  color: white;
  margin-left: auto;
}

.message.bot {
  align-self: flex-start;
  background-color: white;
  border: 1px solid rgba(244, 67, 54, 0.15);
}

.input-container {
  display: flex;
  padding: 20rpx;
  background-color: white;
  border-top: 1px solid #eee;
}

.input-field {
  flex: 1;
  padding: 20rpx;
  border: 1px solid #ddd;
  border-radius: 10rpx;
  margin-right: 20rpx;
  min-height: 80rpx;
  max-height: 200rpx;
}

.send-button {
  padding: 20rpx 40rpx;
  background: linear-gradient(135deg, #ff7061, #f44336);
  color: white;
  border: none;
  border-radius: 10rpx;
  font-weight: 600;
}

.send-button[disabled] {
  opacity: 0.5;
}

.loading-banner {
  display: flex;
  align-items: center;
  padding: 20rpx;
  background-color: #fff3e0;
  margin: 20rpx;
  border-radius: 10rpx;
}

.loading-dots {
  display: flex;
  gap: 10rpx;
  margin-right: 20rpx;
}

.dot {
  width: 12rpx;
  height: 12rpx;
  border-radius: 50%;
  background-color: #ff6f00;
  animation: bounce 1.4s infinite ease-in-out both;
}

@keyframes bounce {
  0%,
  80%,
  100% {
    transform: scale(0);
  }
  40% {
    transform: scale(1);
  }
}
</style>
```

---

#### 4. Markdown æ¸²æŸ“æ”¹é€ 

**Web ç‰ˆä½¿ç”¨ marked + v-html**ï¼š

```vue
<div v-html="marked.parse(content)"></div>
```

**å°ç¨‹åºç‰ˆä½¿ç”¨ rich-text ç»„ä»¶**ï¼š

```vue
<rich-text :nodes="htmlString"></rich-text>
```

**æ³¨æ„**ï¼šå°ç¨‹åºä¸æ”¯æŒå®Œæ•´çš„ HTMLï¼Œéœ€è¦ç®€åŒ– Markdown æ¸²æŸ“ï¼š

```javascript
// utils/markdown.js
// ç®€åŒ–ç‰ˆ Markdown è½¬æ¢
export function markdownToHtml(markdown) {
  let html = markdown;

  // åŠ ç²— **text** -> <strong>text</strong>
  html = html.replace(
    /\*\*(.*?)\*\*/g,
    '<strong style="color:#d32f2f">$1</strong>'
  );

  // æ®µè½
  html = html.replace(/\n\n/g, "<br/><br/>");
  html = html.replace(/\n/g, "<br/>");

  // åˆ—è¡¨ â€¢ item -> <li>item</li>
  html = html.replace(/^[â€¢Â·]\s+(.+)$/gm, "<li>$1</li>");

  // emoji ä¿æŒåŸæ ·

  return html;
}

// æˆ–ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼ˆæ¨èï¼‰
// npm install towxml
import towxml from "towxml";
```

**æ¨èä½¿ç”¨ towxml åº“**ï¼ˆæ›´å®Œæ•´çš„ Markdown æ”¯æŒï¼‰ï¼š

```javascript
// main.js
import towxml from "towxml";
const app = createSSRApp(App);
app.config.globalProperties.$towxml = towxml;

// é¡µé¢ä¸­ä½¿ç”¨
const result = this.$towxml(markdown, "markdown");
```

---

#### 5. æ ·å¼é€‚é…

**å•ä½è½¬æ¢**ï¼š

```css
/* Web ç‰ˆ */
.title {
  font-size: 16px;
  padding: 10px;
}

/* å°ç¨‹åºç‰ˆ - ä½¿ç”¨ rpxï¼ˆå“åº”å¼åƒç´ ï¼‰*/
.title {
  font-size: 32rpx; /* 1rpx = 0.5px (åœ¨ 375px å®½åº¦è®¾å¤‡ä¸Š) */
  padding: 20rpx;
}
```

**å…¨å±€æ ·å¼**ï¼š

```css
/* App.vue æˆ– uni.scss */
page {
  background-color: #f5f5f5;
  height: 100%;
}

/* çº¢è‰²ä¸»é¢˜ */
:root {
  --primary-color: #ff4d4d;
  --primary-dark: #cc0000;
  --bg-light: #fff5f5;
}
```

---

### ç¬¬ä¸‰é˜¶æ®µï¼šåŠŸèƒ½è¿ç§»æ¸…å•

#### âœ… å¯ä»¥ç›´æ¥è¿ç§»

- [x] æ™ºèƒ½é—®ç­”é€»è¾‘
- [x] ä¹ é¢˜è®­ç»ƒé€»è¾‘
- [x] API è¯·æ±‚ï¼ˆæ”¹ç”¨ uni.requestï¼‰
- [x] æ•°æ®çŠ¶æ€ç®¡ç†
- [x] å¤§éƒ¨åˆ† Vue ç»„ä»¶

#### âš ï¸ éœ€è¦æ”¹é€ 

- [ ] è·¯ç”±ç³»ç»Ÿï¼ˆæ”¹ç”¨ pages.jsonï¼‰
- [ ] Markdown æ¸²æŸ“ï¼ˆæ”¹ç”¨ rich-text æˆ– towxmlï¼‰
- [ ] æ–‡ä»¶ä¸Šä¼ /ä¸‹è½½
- [ ] æ ·å¼å•ä½ï¼ˆpx â†’ rpxï¼‰
- [ ] å¯¼èˆªæ ï¼ˆä½¿ç”¨åŸç”Ÿï¼‰

#### âŒ å°ç¨‹åºä¸æ”¯æŒ

- âŒ `window` å¯¹è±¡
- âŒ `document` å¯¹è±¡
- âŒ å®Œæ•´çš„ HTML/CSS
- âŒ eval() å‡½æ•°
- âŒ éƒ¨åˆ† NPM åŒ…ï¼ˆå¦‚ dompurifyï¼‰

---

### ç¬¬å››é˜¶æ®µï¼šåç«¯é€‚é…

#### è·¨åŸŸé—®é¢˜

å°ç¨‹åºéœ€è¦é…ç½®åˆæ³•åŸŸåï¼š

```json
// manifest.json
{
  "mp-weixin": {
    "setting": {
      "urlCheck": false // å¼€å‘æ—¶å¯å…³é—­ï¼Œç”Ÿäº§å¿…é¡»é…ç½®åˆæ³•åŸŸå
    }
  }
}
```

**ç”Ÿäº§ç¯å¢ƒ**ï¼š

1. åœ¨å¾®ä¿¡å°ç¨‹åºåå°é…ç½®æœåŠ¡å™¨åŸŸå
2. åŸŸåå¿…é¡»æ˜¯ HTTPS
3. éœ€è¦å¤‡æ¡ˆ

#### API æ”¹é€ å»ºè®®

**æ–¹æ¡ˆ Aï¼šä½¿ç”¨ç°æœ‰åç«¯ï¼ˆéœ€è¦ HTTPSï¼‰**

```javascript
const baseURL = "https://your-domain.com/api";
```

**æ–¹æ¡ˆ Bï¼šä½¿ç”¨äº‘å‡½æ•°ï¼ˆæ¨èï¼‰**

```javascript
// ä½¿ç”¨ uniCloud äº‘å‡½æ•°
uniCloud.callFunction({
  name: "chatCompletion",
  data: { messages },
});
```

---

## ğŸ“¦ ä¾èµ–åŒ…å¤„ç†

### éœ€è¦æ›¿æ¢çš„åŒ…

| Web åŒ…       | å°ç¨‹åºæ›¿ä»£æ–¹æ¡ˆ               |
| ------------ | ---------------------------- |
| `marked`     | `towxml` æˆ–ç®€åŒ–ç‰ˆè‡ªå·±å®ç°    |
| `dompurify`  | ä¸éœ€è¦ï¼ˆrich-text è‡ªåŠ¨è¿‡æ»¤ï¼‰ |
| `vue-router` | uni-app è·¯ç”±ç³»ç»Ÿ             |

### å®‰è£…å°ç¨‹åºä¸“ç”¨åŒ…

```powershell
npm install towxml  # Markdown æ¸²æŸ“
npm install @dcloudio/uni-ui  # UI ç»„ä»¶åº“
```

---

## ğŸ¨ UI ç»„ä»¶åº“æ¨è

### uni-uiï¼ˆå®˜æ–¹ï¼‰

```vue
<uni-list>
  <uni-list-item title="æ™ºèƒ½é—®ç­”" />
</uni-list>
```

### uView UIï¼ˆç¬¬ä¸‰æ–¹ï¼ŒåŠŸèƒ½ä¸°å¯Œï¼‰

```powershell
npm install uview-ui
```

---

## ğŸš€ å¼€å‘æµç¨‹

### 1. æœ¬åœ°å¼€å‘

```powershell
npm run dev:mp-weixin  # å¾®ä¿¡å°ç¨‹åº
npm run dev:mp-alipay  # æ”¯ä»˜å®å°ç¨‹åº
```

### 2. é¢„è§ˆè°ƒè¯•

- ä½¿ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·æ‰“å¼€ `dist/dev/mp-weixin` ç›®å½•
- æ‰«ç çœŸæœºé¢„è§ˆ

### 3. å‘å¸ƒä¸Šçº¿

```powershell
npm run build:mp-weixin  # ç”Ÿäº§æ„å»º
```

- ä¸Šä¼ åˆ°å¾®ä¿¡å°ç¨‹åºåå°
- æäº¤å®¡æ ¸

---

## ğŸ“ å®Œæ•´é¡¹ç›®ç»“æ„ç¤ºä¾‹

```
miniprogram-xisixiang/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ index/
â”‚   â”‚   â””â”€â”€ index.vue           # é¦–é¡µï¼ˆå¯é€‰ï¼‰
â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â””â”€â”€ chat.vue             # æ™ºèƒ½é—®ç­”
â”‚   â”œâ”€â”€ quiz/
â”‚   â”‚   â””â”€â”€ quiz.vue             # ä¹ é¢˜è®­ç»ƒ
â”‚   â”œâ”€â”€ theory/
â”‚   â”‚   â””â”€â”€ theory.vue           # ç†è®ºå­¦ä¹ 
â”‚   â””â”€â”€ knowledge-graph/
â”‚       â””â”€â”€ knowledge-graph.vue  # çŸ¥è¯†å›¾è°±
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ChatWindow.vue           # èŠå¤©çª—å£ç»„ä»¶
â”‚   â”œâ”€â”€ MessageInput.vue         # æ¶ˆæ¯è¾“å…¥ç»„ä»¶
â”‚   â”œâ”€â”€ QuizQuestion.vue         # é¢˜ç›®ç»„ä»¶
â”‚   â””â”€â”€ MarkdownViewer.vue       # Markdown æŸ¥çœ‹å™¨
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ request.js               # è¯·æ±‚å°è£…
â”‚   â”œâ”€â”€ chat.js                  # æ™ºèƒ½é—®ç­” API
â”‚   â””â”€â”€ quiz.js                  # ä¹ é¢˜ API
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ markdown.js              # Markdown å·¥å…·
â”‚   â””â”€â”€ storage.js               # æœ¬åœ°å­˜å‚¨
â”œâ”€â”€ static/
â”‚   â”œâ”€â”€ tabbar/                  # Tab å›¾æ ‡
â”‚   â””â”€â”€ images/                  # å›¾ç‰‡èµ„æº
â”œâ”€â”€ pages.json                   # é¡µé¢é…ç½®
â”œâ”€â”€ manifest.json                # åº”ç”¨é…ç½®
â”œâ”€â”€ App.vue                      # åº”ç”¨å…¥å£
â”œâ”€â”€ main.js                      # å…¥å£æ–‡ä»¶
â”œâ”€â”€ uni.scss                     # å…¨å±€æ ·å¼å˜é‡
â””â”€â”€ package.json
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. å°ç¨‹åºé™åˆ¶

- å•ä¸ªå°ç¨‹åºåŒ…å¤§å°ä¸è¶…è¿‡ 2MBï¼ˆåˆ†åŒ…å¯è¾¾ 20MBï¼‰
- åŒæ—¶æ‰“å¼€çš„é¡µé¢æ ˆä¸è¶…è¿‡ 10 å±‚
- ç½‘ç»œè¯·æ±‚éœ€è¦é…ç½®åˆæ³•åŸŸå

### 2. æ€§èƒ½ä¼˜åŒ–

- ä½¿ç”¨åˆ†åŒ…åŠ è½½
- å›¾ç‰‡ä½¿ç”¨äº‘å­˜å‚¨
- åˆç†ä½¿ç”¨ç¼“å­˜
- é¿å…è¿‡åº¦æ¸²æŸ“

### 3. å®¡æ ¸è¦æ±‚

- å¿…é¡»æœ‰æ˜ç¡®çš„æœåŠ¡ç±»ç›®
- å†…å®¹åˆè§„
- éœ€è¦æä¾›æµ‹è¯•è´¦å·

---

## ğŸ”— å‚è€ƒèµ„æº

- [uni-app å®˜æ–¹æ–‡æ¡£](https://uniapp.dcloud.net.cn/)
- [å¾®ä¿¡å°ç¨‹åºå®˜æ–¹æ–‡æ¡£](https://developers.weixin.qq.com/miniprogram/dev/framework/)
- [towxml - Markdown æ¸²æŸ“](https://github.com/sbfkcel/towxml)
- [uView UI](https://www.uviewui.com/)

---

## ğŸ“Š å·¥ä½œé‡è¯„ä¼°

| ä»»åŠ¡          | é¢„è®¡æ—¶é—´    | éš¾åº¦   |
| ------------- | ----------- | ------ |
| ç¯å¢ƒæ­å»º      | 0.5 å¤©      | â­     |
| è·¯ç”±æ”¹é€       | 0.5 å¤©      | â­â­   |
| API æ”¹é€       | 1 å¤©        | â­â­   |
| ç»„ä»¶è¿ç§»      | 2-3 å¤©      | â­â­â­ |
| Markdown æ¸²æŸ“ | 1 å¤©        | â­â­â­ |
| æ ·å¼é€‚é…      | 1-2 å¤©      | â­â­   |
| æµ‹è¯•è°ƒè¯•      | 1-2 å¤©      | â­â­   |
| **æ€»è®¡**      | **7-10 å¤©** | -      |

---

**è½¬æ¢æ–¹æ¡ˆå®Œæˆæ—¶é—´**ï¼š2025 å¹´ 10 æœˆ 17 æ—¥  
**æ¨èæ¡†æ¶**ï¼šuni-app + Vue 3  
**é¢„è®¡å·¥ä½œé‡**ï¼š1-2 å‘¨  
**å¤ç”¨ç‡**ï¼š70-80%
